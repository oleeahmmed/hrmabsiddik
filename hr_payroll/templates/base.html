<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Device Management{% endblock %}</title>
    <meta name="description" content="Modern dashboard with analytics, user management, and data visualization">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        border: 'hsl(var(--border))',
                        input: 'hsl(var(--input))',
                        ring: 'hsl(var(--ring))',
                        background: 'hsl(var(--background))',
                        foreground: 'hsl(var(--foreground))',
                        primary: {
                            DEFAULT: 'hsl(var(--primary))',
                            foreground: 'hsl(var(--primary-foreground))'
                        },
                        secondary: {
                            DEFAULT: 'hsl(var(--secondary))',
                            foreground: 'hsl(var(--secondary-foreground))'
                        },
                        destructive: {
                            DEFAULT: 'hsl(var(--destructive))',
                            foreground: 'hsl(var(--destructive-foreground))'
                        },
                        muted: {
                            DEFAULT: 'hsl(var(--muted))',
                            foreground: 'hsl(var(--muted-foreground))'
                        },
                        accent: {
                            DEFAULT: 'hsl(var(--accent))',
                            foreground: 'hsl(var(--accent-foreground))'
                        },
                        popover: {
                            DEFAULT: 'hsl(var(--popover))',
                            foreground: 'hsl(var(--popover-foreground))'
                        },
                        card: {
                            DEFAULT: 'hsl(var(--card))',
                            foreground: 'hsl(var(--card-foreground))'
                        }
                    },
                    borderRadius: {
                        lg: 'var(--radius)',
                        md: 'calc(var(--radius) - 2px)',
                        sm: 'calc(var(--radius) - 4px)'
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif']
                    }
                }
            }
        };
    </script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        :root {
            --background: 0 0% 100%;
            --foreground: 222.2 84% 4.9%;
            --card: 0 0% 100%;
            --card-foreground: 222.2 84% 4.9%;
            --popover: 0 0% 100%;
            --popover-foreground: 222.2 84% 4.9%;
            --primary: 222.2 47.4% 11.2%;
            --primary-foreground: 210 40% 98%;
            --secondary: 210 40% 96%;
            --secondary-foreground: 222.2 84% 4.9%;
            --muted: 210 40% 96%;
            --muted-foreground: 215.4 16.3% 46.9%;
            --accent: 210 40% 96%;
            --accent-foreground: 222.2 84% 4.9%;
            --destructive: 0 84.2% 60.2%;
            --destructive-foreground: 210 40% 98%;
            --border: 214.3 31.8% 91.4%;
            --input: 214.3 31.8% 91.4%;
            --ring: 222.2 84% 4.9%;
            --radius: 0.5rem;
        }
        
        .dark {
            --background: 222.2 84% 4.9%;
            --foreground: 210 40% 98%;
            --card: 222.2 84% 4.9%;
            --card-foreground: 210 40% 98%;
            --popover: 222.2 84% 4.9%;
            --popover-foreground: 210 40% 98%;
            --primary: 210 40% 98%;
            --primary-foreground: 222.2 84% 4.9%;
            --secondary: 217.2 32.6% 17.5%;
            --secondary-foreground: 210 40% 98%;
            --muted: 217.2 32.6% 17.5%;
            --muted-foreground: 215 20.2% 65.1%;
            --accent: 217.2 32.6% 17.5%;
            --accent-foreground: 210 40% 98%;
            --destructive: 0 62.8% 30.6%;
            --destructive-foreground: 210 40% 98%;
            --border: 217.2 32.6% 17.5%;
            --input: 217.2 32.6% 17.5%;
            --ring: 212.7 26.8% 83.9%;
        }
        
        /* Theme Colors */
        .theme-default {
            --primary: 222.2 47.4% 11.2%;
            --primary-foreground: 210 40% 98%;
        }
        
        .theme-red {
            --primary: 0 72.2% 50.6%;
            --primary-foreground: 0 85.7% 97.3%;
        }
        
        .theme-rose {
            --primary: 346.8 77.2% 49.8%;
            --primary-foreground: 355.7 100% 97.3%;
        }
        
        .theme-orange {
            --primary: 24.6 95% 53.1%;
            --primary-foreground: 60 9.1% 97.8%;
        }
        
        .theme-green {
            --primary: 142.1 76.2% 36.3%;
            --primary-foreground: 355.7 100% 97.3%;
        }
        
        .theme-blue {
            --primary: 221.2 83.2% 53.3%;
            --primary-foreground: 210 40% 98%;
        }
        
        .theme-yellow {
            --primary: 47.9 95.8% 53.1%;
            --primary-foreground: 26 83.3% 14.1%;
        }
        
        .theme-violet {
            --primary: 262.1 83.3% 57.8%;
            --primary-foreground: 210 40% 98%;
        }
        
        .dark.theme-default {
            --primary: 210 40% 98%;
            --primary-foreground: 222.2 84% 4.9%;
        }
        
        .dark.theme-red {
            --primary: 0 72.2% 50.6%;
            --primary-foreground: 0 85.7% 97.3%;
        }
        
        .dark.theme-rose {
            --primary: 346.8 77.2% 49.8%;
            --primary-foreground: 355.7 100% 97.3%;
        }
        
        .dark.theme-orange {
            --primary: 24.6 95% 53.1%;
            --primary-foreground: 60 9.1% 97.8%;
        }
        
        .dark.theme-green {
            --primary: 142.1 76.2% 36.3%;
            --primary-foreground: 355.7 100% 97.3%;
        }
        
        .dark.theme-blue {
            --primary: 217.2 91.2% 59.8%;
            --primary-foreground: 222.2 84% 4.9%;
        }
        
        .dark.theme-yellow {
            --primary: 47.9 95.8% 53.1%;
            --primary-foreground: 26 83.3% 14.1%;
        }
        
        .dark.theme-violet {
            --primary: 262.1 83.3% 57.8%;
            --primary-foreground: 210 40% 98%;
        }

        /* Toast Styles */
        .toast {
            transform: translateX(calc(100% + 1rem));
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.3s ease;
            opacity: 0;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        
        .toast.show {
            transform: translateX(0);
            opacity: 1;
        }
        
        .toast.hide {
            transform: translateX(calc(100% + 1rem));
            opacity: 0;
        }

        /* Switch Styles */
        .switch {
            position: relative;
            display: inline-block;
            width: 44px;
            height: 24px;
        }
        
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .switch-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: hsl(var(--muted));
            transition: 0.3s;
            border-radius: 24px;
            border: 1px solid hsl(var(--border));
        }
        
        .switch-slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 2px;
            bottom: 2px;
            background-color: white;
            transition: 0.3s;
            border-radius: 50%;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }
        
        .switch input:checked + .switch-slider {
            background-color: hsl(var(--primary));
            border-color: hsl(var(--primary));
        }
        
        .switch input:checked + .switch-slider:before {
            transform: translateX(20px);
        }
        
        .switch input:focus + .switch-slider {
            box-shadow: 0 0 0 2px hsl(var(--ring));
        }
        
        .switch input:disabled + .switch-slider {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Active Navigation Styles */
        .nav-link.active {
            background-color: hsl(var(--primary));
            color: hsl(var(--primary-foreground));
        }
        
        .nav-link.active:hover {
            background-color: hsl(var(--primary) / 0.9);
            color: hsl(var(--primary-foreground));
        }
        
        .nav-link.active svg {
            color: hsl(var(--primary-foreground));
        }
        
        /* Enhanced hover effects for navigation */
        .nav-link:hover {
            background-color: hsl(var(--accent));
            color: hsl(var(--accent-foreground));
            transform: translateX(2px);
        }
        
        .nav-link {
            transition: all 0.2s ease-in-out;
            border-left: 2px solid transparent;
            color: hsl(var(--muted-foreground));
        }
        
        .nav-link:hover {
            color: hsl(var(--foreground));
        }
        
        .nav-link.active {
            border-left-color: hsl(var(--primary-foreground));
        }
        
        .nav-link:hover {
            border-left-color: hsl(var(--primary));
        }

        /* Submenu section headers */
        .submenu-header {
            color: hsl(var(--muted-foreground));
            font-weight: 500;
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 0.25rem;
            padding: 0.25rem 0.5rem;
        }

        /* Enhanced navigation styles with better hover effects and active states */
        .nav-link {
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            color: hsl(var(--muted-foreground));
        }
        
        .nav-link::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 3px;
            background: hsl(var(--primary));
            transform: scaleY(0);
            transition: transform 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            border-radius: 0 4px 4px 0;
        }
        
        .nav-link:hover {
            background-color: hsl(var(--accent));
            color: hsl(var(--foreground));
            transform: translateX(2px);
        }
        
        .nav-link.active {
            background-color: hsl(var(--primary));
            color: hsl(var(--primary-foreground));
            font-weight: 500;
        }
        
        .nav-link.active::before {
            transform: scaleY(1);
        }
        
        .nav-link.active svg {
            color: hsl(var(--primary-foreground));
        }
        
        .nav-link:hover svg {
            transform: scale(1.1);
            transition: transform 0.2s ease;
        }

        /* Submenu section headers with better styling */
        .submenu-header {
            color: hsl(var(--muted-foreground));
            font-weight: 600;
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 0.08em;
            margin-bottom: 0.5rem;
            padding: 0.5rem 0.75rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .submenu-header::before {
            content: '';
            height: 1px;
            flex: 1;
            background: hsl(var(--border));
        }

        /* Enhanced submenu toggle button */
        .submenu-toggle {
            transition: all 0.2s ease;
        }
        
        .submenu-toggle:hover {
            background-color: hsl(var(--accent));
        }
        
        .submenu-toggle svg {
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .submenu-toggle.expanded svg {
            transform: rotate(90deg);
        }

        /* Enhanced toast styles with better animations */
        .toast {
            transform: translateX(calc(100% + 1rem));
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.3s ease;
            opacity: 0;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        
        .toast.show {
            transform: translateX(0);
            opacity: 1;
        }
        
        .toast.hide {
            transform: translateX(calc(100% + 1rem));
            opacity: 0;
        }

        /* Enhanced sidebar with subtle shadow */
        #sidebar {
            box-shadow: 2px 0 8px rgba(0, 0, 0, 0.05);
        }
        
        .dark #sidebar {
            box-shadow: 2px 0 8px rgba(0, 0, 0, 0.3);
        }

        /* Smooth scrollbar for sidebar */
        #sidebar::-webkit-scrollbar {
            width: 6px;
        }
        
        #sidebar::-webkit-scrollbar-track {
            background: transparent;
        }
        
        #sidebar::-webkit-scrollbar-thumb {
            background: hsl(var(--border));
            border-radius: 3px;
        }
        
        #sidebar::-webkit-scrollbar-thumb:hover {
            background: hsl(var(--muted-foreground));
        }

        /* Enhanced header with subtle shadow */
        header {
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
        }
        
        .dark header {
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
        }

        /* Better focus states for accessibility */
        button:focus-visible,
        a:focus-visible,
        input:focus-visible {
            outline: 2px solid hsl(var(--ring));
            outline-offset: 2px;
        }

        /* Smooth transitions for dropdowns */
        .dropdown-menu {
            animation: slideDown 0.2s ease-out;
        }
        
        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-8px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>
<body class="bg-background text-foreground font-sans antialiased">
     Sidebar 
    <aside id="sidebar" class="fixed left-0 top-0 h-full w-64 bg-card border-r border-border transition-transform duration-300 ease-in-out z-40 lg:translate-x-0 -translate-x-full overflow-hidden">
        <div class="flex flex-col h-full">
             
            <div class="p-4 border-b border-border bg-gradient-to-r from-primary/5 to-transparent">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-3">
                        <div class="w-8 h-8 bg-primary rounded-lg flex items-center justify-center shadow-sm">
                            <svg class="w-4 h-4 text-primary-foreground" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
                            </svg>
                        </div>
                        <div>
                            <h1 class="text-base font-bold text-foreground">Acme Inc.</h1>
                            <p class="text-xs text-muted-foreground font-medium">Enterprise</p>
                        </div>
                    </div>
                    <button id="sidebar-close" class="p-1.5 hover:bg-accent rounded-md transition-colors lg:hidden">
                        <svg class="w-4 h-4 text-muted-foreground" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                        </svg>
                    </button>
                </div>
            </div>
            
             
            <div class="flex-1 overflow-y-auto p-3">
                <div class="mb-4">
                    <button id="playground-toggle" data-submenu-toggle data-submenu-target="#playground-submenu" data-chevron="#playground-chevron" class="submenu-toggle flex items-center justify-between w-full px-3 py-2.5 text-sm font-semibold text-foreground hover:bg-accent rounded-lg transition-colors">
                        <div class="flex items-center space-x-2.5">
                            <svg class="w-4 h-4 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                            </svg>
                            <span>HR Management</span>
                        </div>
                        <svg id="playground-chevron" class="w-4 h-4 text-muted-foreground transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                        </svg>
                    </button>
                    
                      
                    <div id="playground-submenu" class="mt-2 ml-2 space-y-1 hidden" data-submenu>
                        <div class="mb-3">
                            <p class="submenu-header">Devices</p>
                            <a href="{% url 'zkteco:device_list' %}" class="nav-link block px-3 py-2 text-sm rounded-lg" data-url="{% url 'zkteco:device_list' %}">
                                <div class="flex items-center space-x-2.5">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"/>
                                    </svg>
                                    <span>Device List</span>
                                </div>
                            </a>
                        </div>

                        <div class="mb-3">
                            <p class="submenu-header">Attendance</p>
                            <a href="{% url 'zkteco:attendance_logs' %}" class="nav-link block px-3 py-2 text-sm rounded-lg" data-url="{% url 'zkteco:attendance_logs' %}">
                                <div class="flex items-center space-x-2.5">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"/>
                                    </svg>
                                    <span>Attendance Logs</span>
                                </div>
                            </a>
                            <a href="{% url 'zkteco:mobile_attendance' %}" class="nav-link block px-3 py-2 text-sm rounded-lg" data-url="{% url 'zkteco:mobile_attendance' %}">
                                <div class="flex items-center space-x-2.5">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 18h.01M8 21h8a1 1 0 001-1V4a1 1 0 00-1-1H8a1 1 0 00-1 1v16a1 1 0 001 1z"/>
                                    </svg>
                                    <span>Mobile Attendance</span>
                                </div>
                            </a>
                            <a href="{% url 'zkteco:leave_list' %}" class="nav-link block px-3 py-2 text-sm rounded-lg" data-url="{% url 'zkteco:leave_list' %}">
                                <div class="flex items-center space-x-2.5">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                                    </svg>
                                    <span>Leaves</span>
                                </div>
                            </a>
                            <a href="{% url 'zkteco:config_list' %}" class="nav-link block px-3 py-2 text-sm rounded-lg" data-url="{% url 'zkteco:config_list' %}">
                                <div class="flex items-center space-x-2.5">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/>
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                                    </svg>
                                    <span>Configurations</span>
                                </div>
                            </a>
                        </div>

                          
                        <div class="mb-3">
                            <p class="submenu-header">Employees</p>
                            <a href="{% url 'zkteco:employee_list' %}" class="nav-link block px-3 py-2 text-sm rounded-lg" data-url="{% url 'zkteco:employee_list' %}">
                                <div class="flex items-center space-x-2.5">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                                    </svg>
                                    <span>Employee List</span>
                                </div>
                            </a>
                        </div>

                          
                        <div class="mb-3">
                            <p class="submenu-header">Locations</p>
                            <a href="{% url 'zkteco:location_list' %}" class="nav-link block px-3 py-2 text-sm rounded-lg" data-url="{% url 'zkteco:location_list' %}">
                                <div class="flex items-center space-x-2.5">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                                    </svg>
                                    <span>Locations</span>
                                </div>
                            </a>
                            <a href="{% url 'zkteco:user_location_list' %}" class="nav-link block px-3 py-2 text-sm rounded-lg" data-url="{% url 'zkteco:user_location_list' %}">
                                <div class="flex items-center space-x-2.5">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"/>
                                    </svg>
                                    <span>User Locations</span>
                                </div>
                            </a>
                        </div>

                         
                        <div class="mb-3">
                            <p class="submenu-header">Reports</p>
                            <a href="{% url 'zkteco:attendance_reports_main' %}" class="nav-link block px-3 py-2 text-sm rounded-lg" data-url="{% url 'zkteco:attendance_reports_main' %}">
                                <div class="flex items-center space-x-2.5">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
                                    </svg>
                                    <span>All Reports</span>
                                </div>
                            </a>
                            <a href="{% url 'zkteco:hourly_attendance_report' %}" class="nav-link block px-3 py-2 text-sm rounded-lg" data-url="{% url 'zkteco:hourly_attendance_report' %}">
                                <div class="flex items-center space-x-2.5">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                    </svg>
                                    <span>Hourly Report</span>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            
             
            <div class="p-3 border-t border-border bg-gradient-to-r from-primary/5 to-transparent">
                <div class="relative">
                    <button id="profile-menu-btn" class="flex items-center space-x-3 w-full px-3 py-2.5 rounded-lg hover:bg-accent transition-all duration-200 group">
                        <img src="https://c.animaapp.com/mg3sa3qcvOpm0S/img/ai_2.png" alt="User avatar" class="w-8 h-8 rounded-full ring-2 ring-border group-hover:ring-primary transition-all">
                        <div class="flex-1 text-left">
                            <p class="text-sm font-semibold text-foreground">shadcn</p>
                            <p class="text-xs text-muted-foreground">m@example.com</p>
                        </div>
                        <svg class="w-4 h-4 text-muted-foreground group-hover:text-foreground transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 9l4-4 4 4m0 6l-4 4-4-4"/>
                        </svg>
                    </button>
                    <div id="profile-dropdown" class="dropdown-menu absolute bottom-full left-0 right-0 mb-2 bg-popover border border-border rounded-lg shadow-lg z-50 hidden">
                        <div class="p-1.5">
                            <div class="px-3 py-2 text-xs text-muted-foreground border-b border-border mb-1">
                                <div class="font-semibold text-foreground">shadcn</div>
                                <div>m@example.com</div>
                            </div>
                            <button class="w-full text-left px-3 py-2 text-sm hover:bg-accent rounded-md flex items-center space-x-2.5 transition-colors">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"/>
                                </svg>
                                <span>Upgrade to Pro</span>
                            </button>
                            <button class="w-full text-left px-3 py-2 text-sm hover:bg-accent rounded-md flex items-center space-x-2.5 transition-colors">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                                </svg>
                                <span>Account</span>
                            </button>
                            <button class="w-full text-left px-3 py-2 text-sm hover:bg-accent rounded-md flex items-center space-x-2.5 transition-colors">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"/>
                                </svg>
                                <span>Billing</span>
                            </button>
                            <button class="w-full text-left px-3 py-2 text-sm hover:bg-accent rounded-md flex items-center space-x-2.5 transition-colors">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"/>
                                </svg>
                                <span>Notifications</span>
                            </button>
                            <hr class="my-1.5 border-border">
                            <button class="w-full text-left px-3 py-2 text-sm hover:bg-destructive/10 rounded-md text-destructive transition-colors font-medium">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"/>
                                </svg>
                                <span>Log out</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </aside>

     
    <div id="drawer-overlay" class="fixed inset-0 bg-background/80 backdrop-blur-sm z-30 hidden"></div>

     
    <div id="toast-container" class="fixed bottom-4 right-4 z-[100] space-y-2"></div>

     
    <div class="min-h-screen lg:ml-64 ml-0 transition-all duration-300 ease-in-out">
         
        <header class="bg-card border-b border-border px-4 py-3 sticky top-0 z-30">
            <div class="flex items-center justify-between">
                
                <div class="flex items-center space-x-4">
                    <button id="sidebar-trigger" class="p-2 rounded-lg hover:bg-accent transition-all duration-200 hover:scale-105">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
                        </svg>
                    </button>
                    <nav aria-label="Breadcrumb">
                        <ol class="flex items-center space-x-2 text-sm text-muted-foreground">
                            <li><a href="#" class="hover:text-foreground transition-colors font-medium">Home</a></li>
                            <li>/</li>
                            <li class="text-foreground font-semibold">{% block page_title %}Dashboard{% endblock %}</li>
                        </ol>
                    </nav>
                </div>
                
                <div class="flex items-center space-x-2">
                     
                    <div class="relative">
                        <input type="search" placeholder="Search..." class="w-64 pl-10 pr-4 py-2 text-sm border border-input rounded-lg bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:border-transparent transition-all">
                        <svg class="absolute left-3 top-2.5 w-4 h-4 text-muted-foreground" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m21 21-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                        </svg>
                    </div>
                    
                     
                    <button id="theme-toggle" class="p-2 text-muted-foreground hover:text-foreground transition-all duration-200 rounded-lg hover:bg-accent hover:scale-105">
                        <svg id="theme-icon" class="w-5 h-5 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"/>
                        </svg>
                    </button>
                    
                     
                    <div class="relative">
                        <button id="theme-color-toggle" class="p-2 text-muted-foreground hover:text-foreground transition-all duration-200 rounded-lg hover:bg-accent hover:scale-105">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v12a4 4 0 004 4h4a2 2 0 002-2V5z"/>
                            </svg>
                        </button>
                        <div id="theme-color-dropdown" class="dropdown-menu absolute right-0 mt-2 w-52 bg-popover border border-border rounded-lg shadow-lg z-50 hidden">
                            <div class="p-2">
                                <div class="px-3 py-2 text-xs font-semibold text-muted-foreground border-b border-border mb-1">Theme Colors</div>
                                <button class="theme-color-option w-full text-left px-3 py-2.5 text-sm hover:bg-accent rounded-md flex items-center space-x-3 transition-colors" data-color="default">
                                    <div class="w-4 h-4 bg-slate-900 rounded-full ring-2 ring-border"></div>
                                    <span>Default</span>
                                </button>
                                <button class="theme-color-option w-full text-left px-3 py-2.5 text-sm hover:bg-accent rounded-md flex items-center space-x-3 transition-colors" data-color="red">
                                    <div class="w-4 h-4 bg-red-500 rounded-full ring-2 ring-border"></div>
                                    <span>Red</span>
                                </button>
                                <button class="theme-color-option w-full text-left px-3 py-2.5 text-sm hover:bg-accent rounded-md flex items-center space-x-3 transition-colors" data-color="rose">
                                    <div class="w-4 h-4 bg-rose-500 rounded-full ring-2 ring-border"></div>
                                    <span>Rose</span>
                                </button>
                                <button class="theme-color-option w-full text-left px-3 py-2.5 text-sm hover:bg-accent rounded-md flex items-center space-x-3 transition-colors" data-color="orange">
                                    <div class="w-4 h-4 bg-orange-500 rounded-full ring-2 ring-border"></div>
                                    <span>Orange</span>
                                </button>
                                <button class="theme-color-option w-full text-left px-3 py-2.5 text-sm hover:bg-accent rounded-md flex items-center space-x-3 transition-colors" data-color="green">
                                    <div class="w-4 h-4 bg-green-500 rounded-full ring-2 ring-border"></div>
                                    <span>Green</span>
                                </button>
                                <button class="theme-color-option w-full text-left px-3 py-2.5 text-sm hover:bg-accent rounded-md flex items-center space-x-3 transition-colors" data-color="blue">
                                    <div class="w-4 h-4 bg-blue-500 rounded-full ring-2 ring-border"></div>
                                    <span>Blue</span>
                                </button>
                                <button class="theme-color-option w-full text-left px-3 py-2.5 text-sm hover:bg-accent rounded-md flex items-center space-x-3 transition-colors" data-color="yellow">
                                    <div class="w-4 h-4 bg-yellow-500 rounded-full ring-2 ring-border"></div>
                                    <span>Yellow</span>
                                </button>
                                <button class="theme-color-option w-full text-left px-3 py-2.5 text-sm hover:bg-accent rounded-md flex items-center space-x-3 transition-colors" data-color="violet">
                                    <div class="w-4 h-4 bg-violet-500 rounded-full ring-2 ring-border"></div>
                                    <span>Violet</span>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                
                    <div class="relative">
                        <button id="user-menu-btn" class="flex items-center space-x-2 px-2 py-1.5 rounded-lg hover:bg-accent transition-all duration-200 group">
                            <img src="https://c.animaapp.com/mg3sa3qcvOpm0S/img/ai_2.png" alt="User avatar" class="w-7 h-7 rounded-full ring-2 ring-border group-hover:ring-primary transition-all">
                            <span class="text-sm font-semibold text-foreground hidden sm:block">John Doe</span>
                            <svg class="w-4 h-4 text-muted-foreground group-hover:text-foreground transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                            </svg>
                        </button>
                        <div id="user-dropdown" class="dropdown-menu absolute right-0 mt-2 w-52 bg-popover border border-border rounded-lg shadow-lg z-50 hidden">
                            <div class="p-2">
                                <div class="px-3 py-2.5 text-sm text-muted-foreground border-b border-border mb-1">
                                    <div class="font-semibold text-foreground">John Doe</div>
                                    <div class="text-xs">john@example.com</div>
                                </div>
                                <button class="w-full text-left px-3 py-2.5 text-sm hover:bg-accent rounded-md transition-colors">Profile</button>
                                <button class="w-full text-left px-3 py-2.5 text-sm hover:bg-accent rounded-md transition-colors">Settings</button>
                                <button class="w-full text-left px-3 py-2.5 text-sm hover:bg-accent rounded-md transition-colors">Billing</button>
                                <hr class="my-1.5 border-border">
                                <button class="w-full text-left px-3 py-2.5 text-sm hover:bg-destructive/10 rounded-md text-destructive transition-colors font-medium">Sign Out</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        
        <main class="p-6">
            {% block content %}{% endblock %}
        </main>
    </div>

    <script>
        // Theme management
        const themeToggle = document.getElementById('theme-toggle');
        const themeIcon = document.getElementById('theme-icon');
        const themeColorToggle = document.getElementById('theme-color-toggle');
        const themeColorDropdown = document.getElementById('theme-color-dropdown');
        const themeColorOptions = document.querySelectorAll('.theme-color-option');
        
        // Load saved theme
        const savedTheme = localStorage.getItem('theme') || 'light';
        const savedColor = localStorage.getItem('color-theme') || 'default';
        
        function applyTheme(theme, color) {
            document.documentElement.className = '';
            if (theme === 'dark') {
                document.documentElement.classList.add('dark');
            }
            document.documentElement.classList.add(`theme-${color}`);
        }
        
        function updateThemeIcon(theme) {
            if (theme === 'dark') {
                // Show moon icon for dark mode
                themeIcon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"/>';
                themeToggle.classList.add('text-primary', 'bg-accent');
                themeToggle.classList.remove('text-muted-foreground');
            } else {
                // Show sun icon for light mode
                themeIcon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/>';
                themeToggle.classList.remove('text-primary', 'bg-accent');
                themeToggle.classList.add('text-muted-foreground');
            }
        }
        
        // Apply saved theme on load
        applyTheme(savedTheme, savedColor);
        updateThemeIcon(savedTheme);
        
        // Theme toggle button
        themeToggle.addEventListener('click', (e) => {
            e.stopPropagation();
            const currentTheme = document.documentElement.classList.contains('dark') ? 'dark' : 'light';
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            
            localStorage.setItem('theme', newTheme);
            applyTheme(newTheme, savedColor);
            updateThemeIcon(newTheme);
            
            // showToast(`Switched to ${newTheme} mode`, 'success', 1500);
        });
        
        // Theme color dropdown toggle
        themeColorToggle.addEventListener('click', (e) => {
            e.stopPropagation();
            themeColorDropdown.classList.toggle('hidden');
        });
        
        // Handle theme color options
        themeColorOptions.forEach(option => {
            option.addEventListener('click', (e) => {
                e.stopPropagation();
                const color = option.dataset.color;
                
                localStorage.setItem('color-theme', color);
                applyTheme(savedTheme, color);
                
                themeColorDropdown.classList.add('hidden');
                // showToast(`Theme color changed to ${color}`, 'success', 1500);
            });
        });

        // User dropdown
        const userMenuBtn = document.getElementById('user-menu-btn');
        const userDropdown = document.getElementById('user-dropdown');
        
        userMenuBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            userDropdown.classList.toggle('hidden');
        });

        // Profile dropdown in sidebar
        const profileMenuBtn = document.getElementById('profile-menu-btn');
        const profileDropdown = document.getElementById('profile-dropdown');
        
        profileMenuBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            profileDropdown.classList.toggle('hidden');
        });

        // Close dropdowns when clicking outside
        document.addEventListener('click', () => {
            themeColorDropdown.classList.add('hidden');
            userDropdown.classList.add('hidden');
            profileDropdown.classList.add('hidden');
        });

        // Enhanced Sidebar functionality with state persistence
        const sidebarTrigger = document.getElementById('sidebar-trigger');
        const sidebarClose = document.getElementById('sidebar-close');
        const sidebar = document.getElementById('sidebar');
        const drawerOverlay = document.getElementById('drawer-overlay');
        const mainContent = document.querySelector('.min-h-screen');

        // Load saved sidebar state
        const savedSidebarState = localStorage.getItem('sidebar-open') !== 'false';
        let sidebarOpen = savedSidebarState;

        function updateSidebarState(isOpen) {
            const isMobile = window.innerWidth < 1024; // lg breakpoint
            
            if (isOpen) {
                // Show sidebar
                sidebar.classList.remove('-translate-x-full');
                if (isMobile) {
                    drawerOverlay.classList.remove('hidden');
                } else {
                    mainContent.classList.remove('ml-0');
                    mainContent.classList.add('ml-64');
                }
                sidebarOpen = true;
                // Update trigger button appearance
                sidebarTrigger.classList.add('bg-accent', 'text-accent-foreground');
            } else {
                // Hide sidebar
                sidebar.classList.add('-translate-x-full');
                if (isMobile) {
                    drawerOverlay.classList.add('hidden');
                } else {
                    mainContent.classList.remove('ml-64');
                    mainContent.classList.add('ml-0');
                }
                sidebarOpen = false;
                // Update trigger button appearance
                sidebarTrigger.classList.remove('bg-accent', 'text-accent-foreground');
            }
            
            // Save state to localStorage
            localStorage.setItem('sidebar-open', sidebarOpen);
        }

        function toggleSidebar() {
            updateSidebarState(!sidebarOpen);
            showToast(sidebarOpen ? 'Sidebar opened' : 'Sidebar closed', 'info', 1000);
        }

        function closeSidebar() {
            updateSidebarState(false);
        }

        function openSidebar() {
            updateSidebarState(true);
        }

        // Initialize sidebar state on page load
        function initializeSidebar() {
            const isMobile = window.innerWidth < 1024;
            
            // On mobile, always start closed
            if (isMobile) {
                updateSidebarState(false);
            } else {
                // On desktop, use saved state
                updateSidebarState(savedSidebarState);
            }
        }

        // Event listeners
        sidebarTrigger.addEventListener('click', toggleSidebar);
        sidebarClose.addEventListener('click', closeSidebar);
        drawerOverlay.addEventListener('click', closeSidebar);

        function initSubmenus() {
            document.querySelectorAll('[data-submenu-toggle]').forEach(btn => {
                const submenuSelector = btn.getAttribute('data-submenu-target');
                const chevronSelector = btn.getAttribute('data-chevron');
                const submenu = submenuSelector ? document.querySelector(submenuSelector) : null;
                const chevron = chevronSelector ? document.querySelector(chevronSelector) : null;
                if (!submenu) return;
                btn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    submenu.classList.toggle('hidden');
                    btn.classList.toggle('expanded');
                    if (chevron) chevron.classList.toggle('rotate-90');
                });
            });
        }
        initSubmenus();

        // Keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeSidebar();
            }
            // Toggle sidebar with Ctrl/Cmd + B
            if ((e.ctrlKey || e.metaKey) && e.key === 'b') {
                e.preventDefault();
                toggleSidebar();
            }
        });

        // Handle window resize
        window.addEventListener('resize', () => {
            const isMobile = window.innerWidth < 1024;
            
            if (isMobile) {
                // On mobile, always hide overlay when sidebar is closed
                if (!sidebarOpen) {
                    drawerOverlay.classList.add('hidden');
                }
                // Adjust main content margin
                mainContent.classList.remove('ml-64');
                mainContent.classList.add('ml-0');
            } else {
                // On desktop, always hide overlay
                drawerOverlay.classList.add('hidden');
                // Restore sidebar state for desktop
                if (sidebarOpen) {
                    mainContent.classList.remove('ml-0');
                    mainContent.classList.add('ml-64');
                } else {
                    mainContent.classList.remove('ml-64');
                    mainContent.classList.add('ml-0');
                }
            }
        });

        function showToast(message, type = 'success', duration = 3000) {
            const container = document.getElementById('toast-container');
            const toastId = 'toast-' + Date.now();
            
            const icons = {
                success: `<svg class="w-5 h-5 text-green-600 dark:text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>`,
                error: `<svg class="w-5 h-5 text-red-600 dark:text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>`,
                warning: `<svg class="w-5 h-5 text-yellow-600 dark:text-yellow-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
                </svg>`,
                info: `<svg class="w-5 h-5 text-blue-600 dark:text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>`
            };
            
            const colors = {
                success: 'border-green-200 bg-green-50 dark:border-green-800 dark:bg-green-950/50',
                error: 'border-red-200 bg-red-50 dark:border-red-800 dark:bg-red-950/50',
                warning: 'border-yellow-200 bg-yellow-50 dark:border-yellow-800 dark:bg-yellow-950/50',
                info: 'border-blue-200 bg-blue-50 dark:border-blue-800 dark:bg-blue-950/50'
            };
            
            const toast = document.createElement('div');
            toast.id = toastId;
            toast.className = `toast min-w-80 max-w-md p-4 rounded-lg border-2 shadow-xl backdrop-blur-sm ${colors[type]}`;
            toast.innerHTML = `
                <div class="flex items-start space-x-3">
                    <div class="flex-shrink-0">
                        ${icons[type]}
                    </div>
                    <div class="flex-1">
                        <p class="text-sm font-semibold text-foreground">${message}</p>
                    </div>
                    <button onclick="hideToast('${toastId}')" class="flex-shrink-0 ml-4 text-muted-foreground hover:text-foreground transition-colors p-1 hover:bg-background/50 rounded">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
            `;
            
            container.appendChild(toast);
            
            setTimeout(() => {
                toast.classList.add('show');
            }, 10);
            
            setTimeout(() => {
                hideToast(toastId);
            }, duration);
        }
        
        function hideToast(toastId) {
            const toast = document.getElementById(toastId);
            if (toast) {
                toast.classList.remove('show');
                toast.classList.add('hide');
                setTimeout(() => {
                    toast.remove();
                }, 300);
            }
        }

        // Switch functionality
        function initializeSwitches() {
            const switches = document.querySelectorAll('.switch input[type="checkbox"]');
            
            switches.forEach(switchElement => {
                switchElement.addEventListener('change', function() {
                    const switchId = this.id;
                    const isChecked = this.checked;
                    const switchName = switchId.replace(/([A-Z])/g, ' $1').replace(/^./, str => str.toUpperCase());
                    
                    // Show toast based on switch state
                    if (isChecked) {
                        showToast(`${switchName} enabled successfully!`, 'success', 2000);
                    } else {
                        showToast(`${switchName} disabled successfully!`, 'info', 2000);
                    }
                });
            });
        }

        // Initialize switches
        document.addEventListener('DOMContentLoaded', function() {
            initializeSwitches();
            setActiveNavigation();
            initializeSidebar();
        });

        // Set active navigation based on current URL
        function setActiveNavigation() {
            const currentPath = window.location.pathname;
            const navLinks = document.querySelectorAll('.nav-link[data-url]');
            
            // Remove active class from all links
            navLinks.forEach(link => {
                link.classList.remove('active');
            });
            
            // Find matching link and set as active
            let activeLink = null;
            let maxMatchLength = 0;
            
            navLinks.forEach(link => {
                const linkUrl = link.getAttribute('data-url');
                if (linkUrl && currentPath.includes(linkUrl) && linkUrl.length > maxMatchLength) {
                    maxMatchLength = linkUrl.length;
                    activeLink = link;
                }
            });
            
            // Set the best matching link as active
            if (activeLink) {
                activeLink.classList.add('active');
                
                // Expand the parent submenu if the active link is inside it
                const submenu = activeLink.closest('#playground-submenu');
                if (submenu && submenu.classList.contains('hidden')) {
                    submenu.classList.remove('hidden');
                    const chevron = document.getElementById('playground-chevron');
                    if (chevron) {
                        chevron.classList.add('rotate-90');
                    }
                }
            }
        }

        // Update active navigation when navigating via AJAX or pushState
        window.addEventListener('popstate', setActiveNavigation);
    </script>
</body>
</html>
